# Linux Sub-Systems:

In the Linux kernel, the part that handles the various sub-systems and drivers is the 
    **Kernel Core** or **Kernel Framework**. 

This is the central part of the kernel that provides the infrastructure for the sub-systems and drivers 
to operate.

The Kernel Core is responsible for managing the interactions between the sub-systems and drivers, 
providing services such as:

1. **Process Management**: 
    managing processes, threads, and scheduling.
2. **Memory Management**: 
    managing physical and virtual memory, including allocation, deallocation, and protection.
3. **Interrupt Handling**: 
    handling interrupts generated by hardware devices.
4. **Device Management**: 
    managing device drivers and providing a framework for device interaction.
5. **Filesystem Management**: 
    managing file systems, including file access, storage, and retrieval.
6. **Networking**: 
    managing network interfaces, protocols, and socket operations.
7. **Security**: 
    enforcing security policies, such as access control, authentication, and authorization.

The Kernel Core provides a set of APIs (Application Programming Interfaces) and data structures that 
allow sub-systems and drivers to interact with each other and with the kernel. 

These APIs include:

1. **System Calls**: 
    a set of interfaces that allow user-space applications to request kernel services.
2. **Kernel APIs**: 
    a set of interfaces that allow sub-systems and drivers to interact with the kernel.
3. **Device Model**: 
    a framework for managing device drivers and devices.

Some of the key components of the Kernel Core include:

1. **System Call Interface** (syscall.c):
    handles system calls from user-space applications.
2. **Process Scheduler** (schedule.c): 
    manages process scheduling and context switching.
3. **Memory Manager** (mm/): 
    manages physical and virtual memory.
4. **Interrupt Handler** (irq/): 
    handles interrupts generated by hardware devices.
5. **Device Manager** (drivers/): 
    manages device drivers and provides a framework for device interaction.
6. **Filesystem Manager** (fs/): 
    manages file systems and provides a framework for file access.

The Kernel Core is responsible for orchestrating the interactions between these components and 
providing a stable and efficient platform for the sub-systems and drivers to operate on.



- __platform_driver_register and platform_device_register:

In the Linux kernel, both `__platform_driver_register` and `platform_device_register` are used to 
register platform devices and drivers, but they serve different purposes and are used in different contexts.

**`__platform_driver_register(struct platform_driver *drv, struct module *owner)`**

This function registers a platform driver with the kernel. 

A platform driver is a driver that manages a specific platform device, such as a serial port, 
a GPIO controller, or a clock generator. 
The `__platform_driver_register` function is used to register the driver with the kernel, so that it 
can be matched with a platform device.

The `struct platform_driver` structure contains information about the driver, such as its name, 
the devices it supports, and the probe and remove functions that will be called when a device is bound 
to the driver.

The `owner` parameter specifies the module that owns the driver. 
This is typically the module that contains the driver code.

**`platform_device_register(struct platform_device *pdev)`**

This function registers a platform device with the kernel. 

A platform device is a device that is specific to a particular platform, such as a SoC (System-on-Chip) 
or a motherboard. 
The `platform_device_register` function is used to register a platform device with the kernel, so that 
it can be matched with a platform driver.

The `struct platform_device` structure contains information about the device, such as its name, 
the resources it requires (e.g., I/O memory, interrupts), and the driver that will manage it.

In summary:

* `__platform_driver_register` 
    registers a platform driver with the kernel, so that it can be matched with a platform device.
* `platform_device_register` 
    registers a platform device with the kernel, so that it can be matched with a platform driver.

Here's an example of how these functions are used together:

1. A platform driver is registered using `__platform_driver_register`.
2. A platform device is registered using `platform_device_register`.
3. The kernel matches the platform device with the platform driver based on the device's name and 
the driver's supported devices.
4. The kernel calls the driver's probe function to bind the device to the driver.

By separating the registration of drivers and devices, the Linux kernel provides a flexible and modular 
way to manage platform devices and drivers.
